/*! ng-contextmenu by Adam Timberlake <adam.timberlake@gmail.com> created on 2016-08-11 */
!function(e,t){"use strict";var n=e.module("ngContextMenu",[]);n.factory("contextMenu",["$rootScope",function(e){function t(){e.$broadcast("context-menu/close")}return{cancelAll:t,eventBound:!1}}]),n.directive("contextMenu",["$timeout","$interpolate","$compile","contextMenu","$templateRequest","$sce",function(n,r,i,o,a,s){return{restrict:"EA",scope:!0,require:"?ngModel",link:function(n,c,l,d){function u(){n.menu&&(n.menu.remove(),n.menu=null,n.position=null)}function m(){return d?e.extend(n,d.$modelValue):n}function f(e,t){var n=window.innerHeight,r=window.innerWidth,i=e[0].clientWidth,o=e[0].clientHeight,a=t.x+i>r,s=t.y+o>n,c=a?t.x-i:t.x,l=s?t.y-o:t.y;return{x:c,y:l}}function h(e,t){setTimeout(function(){var n=f(e,t);e.css({position:"fixed",top:0,left:0,transform:r("translate({{x}}px, {{y}}px)")(n)})},20)}function p(t,r){if(r=r||"append","preventDefault"in t)o.cancelAll(),t.stopPropagation(),t.preventDefault(),n.position={x:t.clientX,y:t.clientY};else if(!n.menu)return;a(s.getTrustedResourceUrl(l.contextMenu)).then(function(t){var o=i(t)(e.extend(m())),a=e.element(o);switch(r){case"append":angular.element(document.body).append(a);break;default:n.menu.replaceWith(a)}h(a,n.position),n.menu=a,n.menu.bind("click",u)})}if(o.eventBound||(t.addEventListener("click",function(){o.cancelAll(),n.$apply()}),o.eventBound=!0),n.$on("context-menu/close",u),d){var g=function(){return d.$modelValue};n.$watch(g,function(){p({},"replaceWith")},!0)}c.bind(l.contextEvent||"contextmenu",p)}}}])}(window.angular,window.document);
